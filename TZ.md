# Требования к системе

## Функциональные требования
### Выбор города
Пользователь имеет возможность выбрать город, для которого будут отображаться погодные данные, для этого пользователь должен:
- Нажать на соответствующую кнопку выбора города, после чего будет открыта форма выбора города.
- В данной форме пользователь может выбрать нужный ему город из предлагаемого ниже списка городов или должен будет ввести свой город в специальном поле.
- По мере ввода названия города система будет предлагать наиболее похожие варианты названий городов.
- После ввода города в поисковую строку пользователь может выбрать нужный ему город из предложенных системой городов/города.
### Перелистывание почасовой погоды на текущий день
Пользователь может с помощью кликабельных стрелочек менять за какой промежуток времени почасово показывается погода на текущий день.
### Предложение выбора одежды на определенный день
- Пользователь может нажать на кнопку помощи выбора одежды на определенный день в течение следующей недели.
- После этого будет отправлен запрос на помощь в выборе одежды в нейронную сеть с погодными данными на выбранный день.
- Ответ нейронной сети будет передан пользователю посредством вывода на экран правее от изначальной кнопки.
- Нейронная сеть будет заранее интегрирована.

### Выбор настроек сайта
Пользователь может нажать на кнопку настроек после чего увидит перед собой следующие настройки: выбор языка, выбор цветовой темы, выбор часового формата, выбор единицы измерения температуры, выбор формата измерения скорости ветра
- Пользователь может выбрать язык, на котором будут представлены данные, русский или английский.
- Пользователь может выбрать цветовую схему сайта, темную или светлую.
- Пользователь может выбрать часовой формат, 24 часовой или 12 часовой.
- Пользователь может выбрать единицу отображаемой единицы измерения температуры, цельсий, кельвин или фаренгейт.
- Пользователь может выбрать в каком формате будут отображаться данные о скорости ветра, метров в секунду или миль в час.

**Погодные данные берутся из OpenWeatherMap**
- OpenWeatherMap заранее интегрируется.
- Погодные данные берутся и выводятся на сайт автоматически, без участия разработчика.
## Нефункциональные требования
### Требования к структуре и функционированию системы
- Описание перечня подсистем, их назначение, компоненты системы и их информационное взаимодействие между собой представлено в разделе “Архитектура системы”.
- Система взаимодействует с внешними системами, такими как сторонняя база данных OpenWeatherMap и нейронной сетью, посредством API по необходимости.
- Система при надобности должна разворачиваться в пределах пары минут и при необходимости функционировать 24/7 с редкими профилактическими остановками.
### Требования к численности и квалификации персонала системы
- Заказчик системы единолично имеет полный доступ ко всем возможностям системы и имеет полную квалификацию для этого.
- Дополнительный персонал не требуется.
### Требования к безопасности
- Сервер не имеет права без разрешения пользователя отслеживать его геолокационные данные.
### Требования к интерфейсу
- Аккуратный, не бросающийся сильно в глаза дизайн.
- Цветовая схема включает в себя четыре цвета согласно приложению “Цветовая схема”.
- Сервис должен поддерживать светлую и темную темы.
- Пользователь имеет право изменить тему интерфейса через соответствующую кнопку.
- Примеры страниц, их наполнения и визуальной составляющей представлены в приложении “Макеты интерфейса”.
### Требования к локализации
- Интерфейс сайта должен поддерживать русский и английский языки.
- Пользователь имеет возможность выбрать язык интерфейса через соответствующую кнопку.
# Архитектура системы
## Основные сведения
Сервис представляет собой веб-приложение, доступное на любых устройствах благодаря адаптивной верстке и поддержке технологии **Progressive Web App (PWA)**.


Архитектура системы основана на **клиент-серверной микросервисной модели** и разделена на три слоя: **базовый, дополнительный и внешний.**

### Компоненты архитектуры

#### Базовый слой

Включает основные компоненты, обеспечивающие функциональность и взаимодействие системы:
- **Бэкенд**: реализуется на платформе **Spring Boot**, выполняет бизнес-логику, обработку запросов, взаимодействие с внешними API погоды и формирование рекомендаций по одежде.
    
- **Фронтенд**: реализуется на **React**, обеспечивает интерактивный интерфейс пользователя и обмен данными с сервером через **REST API**.
    
- **База данных**: используется **PostgreSQL** в качестве основной реляционной СУБД для хранения пользовательских настроек, истории запросов и кэшированных погодных данных.
    

#### Дополнительный слой

Предназначен для повышения производительности, мониторинга и аналитики:

- **Кэширование**: реализуется с помощью **Redis**, используется для ускорения обработки часто запрашиваемых данных (например, погодных прогнозов) и снижения нагрузки на внешние API.
    
- **Сбор метрик**: осуществляется при помощи **Prometheus**, который агрегирует показатели работы сервисов и инфраструктуры.
    
- **Визуализация метрик**: осуществляется через **Grafana**, предоставляющую наглядные дашборды и инструменты анализа производительности.
    

#### Внешний слой

Содержит интеграции с внешними системами и сервисами:

- **API погодных данных**: используется **OpenWeatherMap API** для получения актуальных и прогнозируемых данных о погоде.
    
- **Рекомендательная система**: алгоритм подбора одежды на основе температуры, влажности, ветра и осадков.
    

Каждый микросервис (за исключением внешних интеграций) развертывается в отдельном **Docker-контейнере**, что обеспечивает изоляцию окружений, гибкость масштабирования и удобство развертывания.

### Схема архитектуры


+-------------------+      REST API      +-------------------+
|     Фронтенд      | <----------------> |      Бэкенд       |
|     (React)       |                    |   (Spring Boot)   |
+-------------------+                    +-------------------+
                                              |
                                              | DB / Cache
                                              |
+-------------------+                    +-------------------+
|   Внешний слой    |                    |  Дополнительный   |
|                   |                    |      слой         |
| - OpenWeatherMap  |                    |                   |
| - Рекомендации    |                    | - Redis (кэш)     |
|                   |                    | - Prometheus      |
+-------------------+                    | - Grafana         |
                                         +-------------------+

---

Этот блок можно сразу вставить в ваше ТЗ. Если хотите, добавлю также раздел с **технологическим стеком** или **схемой взаимодействия компонентов** — просто скажите!